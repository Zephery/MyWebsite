import{_ as i,c as a,d as e,o as n}from"./app-QMLaLhzb.js";const l={};function h(t,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="买了个mini主机" tabindex="-1"><a class="header-anchor" href="#买了个mini主机"><span>买了个mini主机</span></a></h1><p>虽然有苹果的电脑，但是在安装一些软件的时候，总想着能不能有一个小型的服务器，免得各种设置导致 Mac 出现异常。整体上看了一些小型主机，也看过苹果的 Mac mini，但是发现它太贵了，大概要 3000 多，特别是如果要更高配置的话，价格会更高，甚至更贵。所以，我就考虑一些别的小型主机。也看了一些像 NUC 这些服务器，但是觉得还是太贵了。于是我自己去淘宝搜索，找到了这一款 N100 版的主机。</p><p>成本的话，由于有折扣，所以大概是 410 左右，然后自己加了个看上去不错的内存条花了 300 左右。硬盘的话我自己之前就有，所以总成本大概是 700 左右。大小的话，大概是一台手机横着和竖着的正方形大小，还带 Wi-Fi，虽然不太稳定。</p><p><img src="https://github-images.wenzhihuai.com/images/iowejofwjeofjwoeifjwoe.png" alt="iowejofwjeofjwoeifjwoe"></p><h2 id="一、系统的安装" tabindex="-1"><a class="header-anchor" href="#一、系统的安装"><span>一、系统的安装</span></a></h2><p>系统我看是支持windows，还有现在Ubuntu，但是我这种选择的是centos stream 9， 10的话我也找过，但是发现很多软件还有不兼容。所以最终还是centos stream 9。</p><p>1、下载Ventoy软件</p><p>去Ventoy官网下载Ventoy软件（Download . Ventoy）如下图界面</p><p><img src="https://github-images.wenzhihuai.com/images/QQ_1727625608185.png" alt="QQ_1727625608185"></p><p>2、制作启动盘</p><p>选择合适的版本以及平台下载好之后，进行解压，解压出来之后进入文件夹，如下图左边所示，双击打开Ventoy2Disk.exe，会出现下图右边的界面，选择好自己需要制作启动盘的U盘，然后点击安装等待安装成功即可顺利制作成功启动U盘。</p><p>3、centos安装</p><p>直接取<a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">官网</a>，下载完放到u盘即可。</p><p><img src="https://github-images.wenzhihuai.com/images/QQ_1727625711792.png" alt="QQ_1727625711792"></p><p>它的BIOS是按F7启动，直接加载即可。</p><p><img src="https://github-images.wenzhihuai.com/images/image-20241007222938414.png" alt="image-20241007222938414"></p><p>之后就是正常的centos安装流程了。</p><h2 id="二、连接wifi" tabindex="-1"><a class="header-anchor" href="#二、连接wifi"><span>二、连接wifi</span></a></h2><p>因为是用作服务器的，所以并没有给它配置个专门的显示器，只要换个网络，就连不上新的wifi了，这里可以用网线连接路由器进行下面的操作即可。</p><p>在 CentOS 系统中，通过命令行连接 Wi-Fi 通常需要使用 nmcli（NetworkManager 命令行工具）来管理网络连接。nmcli 是 NetworkManager 的一个命令行接口，可以用于创建、修改、激活和停用网络连接。以下是如何使用 nmcli 命令行工具连接 Wi-Fi 的详细步骤。</p><h3 id="步骤-1-检查网络接口" tabindex="-1"><a class="header-anchor" href="#步骤-1-检查网络接口"><span>步骤 1: 检查网络接口</span></a></h3><p>首先，确认你的 Wi-Fi 网络接口是否被检测到，并且 NetworkManager 是否正在运行。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出示例：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>DEVICE         TYPE      STATE         CONNECTION</span></span>
<span class="line"><span>wlp3s0         wifi      disconnected  --</span></span>
<span class="line"><span>enp0s25        ethernet  connected     Wired connection 1</span></span>
<span class="line"><span>lo             loopback  unmanaged     --</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个示例中，wlp3s0 是 Wi-Fi 接口，它当前处于未连接状态。</p><h3 id="步骤-2-启用-wi-fi-网卡" tabindex="-1"><a class="header-anchor" href="#步骤-2-启用-wi-fi-网卡"><span>步骤 2: 启用 Wi-Fi 网卡</span></a></h3><p>如果你的 Wi-Fi 网卡是禁用状态，可以通过以下命令启用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> radio</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wifi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>验证 Wi-Fi 是否已启用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> radio</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="步骤-3-扫描可用的-wi-fi-网络" tabindex="-1"><a class="header-anchor" href="#步骤-3-扫描可用的-wi-fi-网络"><span>步骤 3: 扫描可用的 Wi-Fi 网络</span></a></h3><p>使用 nmcli 扫描附近的 Wi-Fi 网络：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wifi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>你将看到可用的 Wi-Fi 网络列表，每个网络都会显示 SSID（网络名称）、安全类型等信息。</p><h3 id="步骤-4-连接到-wi-fi-网络" tabindex="-1"><a class="header-anchor" href="#步骤-4-连接到-wi-fi-网络"><span>步骤 4: 连接到 Wi-Fi 网络</span></a></h3><p>使用 nmcli 命令连接到指定的 Wi-Fi 网络。例如，如果你的 Wi-Fi 网络名称（SSID）是 MyWiFiNetwork，并且密码是 password123，你可以使用以下命令连接：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wifi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;xxxxxx&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;xxxxx&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>你应该会看到类似于以下输出，表明连接成功：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>Device &#39;wlp3s0&#39; successfully activated with &#39;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#39;.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="步骤-5-验证连接状态" tabindex="-1"><a class="header-anchor" href="#步骤-5-验证连接状态"><span>步骤 5: 验证连接状态</span></a></h3><p>验证网络连接状态：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看当前连接的详细信息：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wlp3s0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>上面的其实在2024年其实有点问题，因为会默认连接2.4GHz的wifi，使用的时候很明显没有那么快，特别是在用命令行的时候会觉得明显卡顿，现在需要切换到5GHz的wifi。 首先，使用 nmcli 获取可用 WiFi 网络及其 BSSID：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSID,BSSID,CHAN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wifi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>示例输出：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>SSID       BSSID              CHAN</span></span>
<span class="line"><span>MyNetwork  XX:XX:XX:XX:XX:01  36</span></span>
<span class="line"><span>MyNetwork  XX:XX:XX:XX:XX:02  1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这里, XX:XX:XX:XX:XX:01 是 5GHz 网络的 BSSID。</p><p>使用 nmcli 连接到特定的 BSSID</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wifi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;XX:XX:XX:XX:XX:01&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;your_password&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="三、vnc远程连接" tabindex="-1"><a class="header-anchor" href="#三、vnc远程连接"><span>三、VNC远程连接</span></a></h2><p>桌面还是偶尔需要用一下的，虽然用的不多。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>root@master:~# dnf install  -y  tigervnc-server</span></span>
<span class="line"><span>root@master:~# vncserver</span></span>
<span class="line"><span>bash: vncserver: command not found...</span></span>
<span class="line"><span>Install package &#39;tigervnc-server&#39; to provide command &#39;vncserver&#39;? [N/y] y</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> * Waiting in queue... </span></span>
<span class="line"><span> * Loading list of packages.... </span></span>
<span class="line"><span>The following packages have to be installed:</span></span>
<span class="line"><span> dbus-x11-1:1.12.20-8.el9.x86_64        X11-requiring add-ons for D-BUS</span></span>
<span class="line"><span> tigervnc-license-1.14.0-3.el9.noarch   License of TigerVNC suite</span></span>
<span class="line"><span> tigervnc-selinux-1.14.0-3.el9.noarch   SELinux module for TigerVNC</span></span>
<span class="line"><span> tigervnc-server-1.14.0-3.el9.x86_64    A TigerVNC server</span></span>
<span class="line"><span> tigervnc-server-minimal-1.14.0-3.el9.x86_64    A minimal installation of TigerVNC server</span></span>
<span class="line"><span>Proceed with changes? [N/y] y</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span> * Waiting in queue... </span></span>
<span class="line"><span> * Waiting for authentication... </span></span>
<span class="line"><span> * Waiting in queue... </span></span>
<span class="line"><span> * Downloading packages... </span></span>
<span class="line"><span> * Requesting data... </span></span>
<span class="line"><span> * Testing changes... </span></span>
<span class="line"><span> * Installing packages... </span></span>
<span class="line"><span></span></span>
<span class="line"><span>WARNING: vncserver has been replaced by a systemd unit and is now considered deprecated and removed in upstream.</span></span>
<span class="line"><span>Please read /usr/share/doc/tigervnc/HOWTO.md for more information.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>You will require a password to access your desktops.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getpassword error: Inappropriate ioctl for device</span></span>
<span class="line"><span>Password:</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后在mac开启屏幕共享就可以了</p><p><img src="https://github-images.wenzhihuai.com/images/image-20241007225855305.png" alt="image-20241007225855305"></p><p><img src="https://github-images.wenzhihuai.com/images/QQ_1728313164289.png" alt="QQ_1728313164289"></p><h2 id="四、docker-配置" tabindex="-1"><a class="header-anchor" href="#四、docker-配置"><span>四、docker 配置</span></a></h2><p>docker安装我以为很简单，没想到这里是最难的一步了。安装完docker之后，总是报错：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Error</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> response</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daemon:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;https://registry-1.docker.io/v2/&quot;:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> context</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> deadline</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exceeded</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>即使改了mirrors也毫无作用</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;registry-mirrors&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;https://ylce84v9.mirror.aliyuncs.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看起来好像是docker每次pull镜像都要访问一次registry-1.docker.io，但是这个网址国内已经无法连接了，各种折腾，这里只贴一下代码吧，原理就就不讲了（懂得都懂）。</p><p><img src="https://github-images.wenzhihuai.com/images/5493f11fb4fe4de1bba971a744bf4f4a_1074242703.png" alt="img"></p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sslocal</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/shadowsocks.json</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --socks5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 127.0.0.1:1080</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://httpbin.org/ip</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> privoxy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>vim /etc/systemd/system/docker.service.d/http-proxy.conf</code></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>[Service]</span></span>
<span class="line"><span>Environment=&quot;HTTP_PROXY=http://127.0.0.1:8118&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>/etc/systemd/system/docker.service.d/https-proxy.conf</code></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>[Service]</span></span>
<span class="line"><span>Environment=&quot;HTTPS_PROXY=http://127.0.0.1:8118&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>最后重启docker</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> privoxy</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> privoxy</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://github-images.wenzhihuai.com/images/QQ_1729956484197.png" alt="QQ_1729956484197"></p><h2 id="五、文件共享" tabindex="-1"><a class="header-anchor" href="#五、文件共享"><span>五、文件共享</span></a></h2><p>sd卡好像读取不了，只能换个usb转换器</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fdisk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sdb1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt/usb/sd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在CentOS中设置文件共享，可以使用Samba服务。以下是配置Samba以共享文件的基本步骤：</p><ol><li>安装Samba</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> samba</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> samba-client</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> samba-common</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol><li><p>设置共享目录</p><p>编辑Samba配置文件<code>/etc/samba/smb.conf</code>，在文件末尾添加以下内容：</p></li></ol><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[shared]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">   path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> /path/to/shared/directory</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">   writable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> yes</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">   browseable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> yes</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">   guest </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ok</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><p>设置Samba密码</p><p>为了允许访问，需要为用户设置一个Samba密码：</p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> smbpasswd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your_username</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol><li>重启Samba服务</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> smb.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmb.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><p>配置防火墙（如果已启用）</p><p>允许Samba通过防火墙：</p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewall-cmd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --permanent</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --zone=public</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --add-service=samba</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewall-cmd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，您应该能够从网络上的其他计算机通过SMB/CIFS访问共享。在Windows中，你可以使用<code>\\\\centos-ip\\shared</code>，在Linux中，你可以使用<code>smbclient //centos-ip/shared -U your_username</code></p><p><img src="https://github-images.wenzhihuai.com/images/QQ_1730035390803.png" alt="QQ_1730035390803"></p><p>参考：</p><p>https://shadowsockshelp.github.io/Shadowsocks/linux.html</p><p>https://stackoverflow.com/questions/48056365/error-get-https-registry-1-docker-io-v2-net-http-request-canceled-while-b</p>`,92)])])}const d=i(l,[["render",h]]),r=JSON.parse('{"path":"/interesting/mini%E4%B8%BB%E6%9C%BA/%E4%B9%B0%E4%BA%86%E4%B8%AAmini%E4%B8%BB%E6%9C%BA.html","title":"买了个mini主机","lang":"zh-CN","frontmatter":{"description":"买了个mini主机 虽然有苹果的电脑，但是在安装一些软件的时候，总想着能不能有一个小型的服务器，免得各种设置导致 Mac 出现异常。整体上看了一些小型主机，也看过苹果的 Mac mini，但是发现它太贵了，大概要 3000 多，特别是如果要更高配置的话，价格会更高，甚至更贵。所以，我就考虑一些别的小型主机。也看了一些像 NUC 这些服务器，但是觉得还是...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"买了个mini主机\\",\\"image\\":[\\"https://github-images.wenzhihuai.com/images/iowejofwjeofjwoeifjwoe.png\\",\\"https://github-images.wenzhihuai.com/images/QQ_1727625608185.png\\",\\"https://github-images.wenzhihuai.com/images/QQ_1727625711792.png\\",\\"https://github-images.wenzhihuai.com/images/image-20241007222938414.png\\",\\"https://github-images.wenzhihuai.com/images/image-20241007225855305.png\\",\\"https://github-images.wenzhihuai.com/images/QQ_1728313164289.png\\",\\"https://github-images.wenzhihuai.com/images/5493f11fb4fe4de1bba971a744bf4f4a_1074242703.png\\",\\"https://github-images.wenzhihuai.com/images/QQ_1729956484197.png\\",\\"https://github-images.wenzhihuai.com/images/QQ_1730035390803.png\\"],\\"dateModified\\":\\"2025-11-01T04:49:29.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zephery\\",\\"url\\":\\"https://wenzhihuai.com/article/\\"}]}"],["meta",{"property":"og:url","content":"https://www.wenzhihuai.com/interesting/mini%E4%B8%BB%E6%9C%BA/%E4%B9%B0%E4%BA%86%E4%B8%AAmini%E4%B8%BB%E6%9C%BA.html"}],["meta",{"property":"og:site_name","content":"个人博客"}],["meta",{"property":"og:title","content":"买了个mini主机"}],["meta",{"property":"og:description","content":"买了个mini主机 虽然有苹果的电脑，但是在安装一些软件的时候，总想着能不能有一个小型的服务器，免得各种设置导致 Mac 出现异常。整体上看了一些小型主机，也看过苹果的 Mac mini，但是发现它太贵了，大概要 3000 多，特别是如果要更高配置的话，价格会更高，甚至更贵。所以，我就考虑一些别的小型主机。也看了一些像 NUC 这些服务器，但是觉得还是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://github-images.wenzhihuai.com/images/iowejofwjeofjwoeifjwoe.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-01T04:49:29.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-01T04:49:29.000Z"}]]},"git":{"createdTime":1730035985000,"updatedTime":1761972569000,"contributors":[{"name":"zhihuaiwen","username":"zhihuaiwen","email":"1570631036@qq.com","commits":5,"url":"https://github.com/zhihuaiwen"}]},"readingTime":{"minutes":5.88,"words":1763},"filePathRelative":"interesting/mini主机/买了个mini主机.md","excerpt":"\\n<p>虽然有苹果的电脑，但是在安装一些软件的时候，总想着能不能有一个小型的服务器，免得各种设置导致 Mac 出现异常。整体上看了一些小型主机，也看过苹果的 Mac mini，但是发现它太贵了，大概要 3000 多，特别是如果要更高配置的话，价格会更高，甚至更贵。所以，我就考虑一些别的小型主机。也看了一些像 NUC 这些服务器，但是觉得还是太贵了。于是我自己去淘宝搜索，找到了这一款 N100 版的主机。</p>","autoDesc":true}');export{d as comp,r as data};
