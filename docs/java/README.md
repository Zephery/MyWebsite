悲观锁、乐观锁、CAS的概念

悲观锁：在使用synchronized的时候，如果一个线程获取到锁，那么它就非常的悲观，认为其他线程访问共享资源会出现冲突，所以其他线程会被阻塞。

CAS操作：compare and swap意思是比较并交换，CAS操作中有三个参数：内存位置（V）、预期原值（A）和新值(B)；如果内存位置的值与预期原值相匹配，那么会自动将该值更新为新值 ，如果不一样那么重新计算直到一直为止。

乐观锁：CAS的操作就属于乐观锁，不加锁，而是认为多线程访问共享资源不会出现冲突的情况，如果出现了冲突那么就重试，直到内存值和预期值不冲突为止。

· 锁升级

JDK1.6后synchronized的锁状态总共有4种：无锁—>偏向锁—>轻量级锁—>重量级锁，锁的升级顺序是从无锁到重量级的顺序，锁只能升级不能降级。

在说锁的升级原理之前呢，我们先了解下我们的对象，大部分对象都是存储在堆中，而对象的组成主要有三部分：对象头、实例数据、对齐填充；

对象头
